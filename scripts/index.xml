<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Scripts on My Documentation</title><link>https://wiki.cyd4r.com/scripts/</link><description>Recent content in Scripts on My Documentation</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 08 Dec 2021 19:31:12 +0100</lastBuildDate><atom:link href="https://wiki.cyd4r.com/scripts/index.xml" rel="self" type="application/rss+xml"/><item><title>Better Bash Scripting</title><link>https://wiki.cyd4r.com/scripts/better_bash_scripting/</link><pubDate>Wed, 08 Dec 2021 19:31:12 +0100</pubDate><guid>https://wiki.cyd4r.com/scripts/better_bash_scripting/</guid><description>Secuencias de comandos más Empiezo cada script de bash con el siguiente prólogo:
#!/bin/bash set -o nounset set -o errexit Esto se encargará de dos errores muy comunes:
Hacer referencia a variables indefinidas (cuyo valor predeterminado es &amp;ldquo;&amp;quot;) Ignorar los comandos fallidos Las dos configuraciones también tienen abreviaturas (“-u” y “-e”) pero las versiones más largas son más legibles. Si se tolera un comando fallido, use este modismo:</description></item><item><title>Monitorizar Red Bash</title><link>https://wiki.cyd4r.com/scripts/monitorizar-red-bash/</link><pubDate>Wed, 08 Dec 2021 19:21:31 +0100</pubDate><guid>https://wiki.cyd4r.com/scripts/monitorizar-red-bash/</guid><description>#!/bin/bash LOG=/tmp/mylog.log SECONDS=3600 EMAIL=mi@email for i in $@ ;do echo &amp;#34;$i-UP!&amp;#34; &amp;gt; $LOG.$i done while true; do for i in $@; do ping -c 1 $i &amp;gt; /dev/null if [ $? -ne 0 ]; then STATUS=$(cat $LOG.$i) if [ $STATUS != &amp;#34;$i-DOWN!&amp;#34; ]; then echo &amp;#34;`date`: ping failed, $ihost is down!&amp;#34; | mail -s &amp;#34;$ihost is down!&amp;#34; $EMAIL fi else STATUS=$(cat $LOG.$i) if [ $STATUS != &amp;#34;$i-UP!&amp;#34; ]; then echo &amp;#34;`date`: ping OK, $ihost is up!</description></item></channel></rss>